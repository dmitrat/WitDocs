@* HomePage - Reusable home page with customizable Hero section *@
@inherits HomePageViewModel

<SeoHead Title="@SeoTitle" Description="@SeoDescription" OgType="website" />

@* Hero section - provided by site via ChildContent *@
<CascadingValue Value="@GetFirstProjectAnchor()" Name="FirstProjectAnchor">
    @if (HeroContent != null)
    {
        @HeroContent
    }
</CascadingValue>

<section id="projects" class="projects-section container">
    
    @if (!string.IsNullOrEmpty(ProjectsSectionTitle))
    {
        <h2 class="section-title">@ProjectsSectionTitle</h2>
    }
    
    <LoadingState IsLoading="Loading"
                  HasContent="ProjectItems.Any()"
                  LoadingText="Loading projects..."
                  NotFoundText="No projects found.">
        <SkeletonContent>
            <div class="projects-list">
                @for (int i = 0; i < 3; i++)
                {
                    <ContentCardSkeleton ShowTags="true" />
                }
            </div>
        </SkeletonContent>
        <ChildContent>
            <div class="projects-list">
                @foreach (var project in ProjectItems)
                {
                    <ContentCard Title="@project.Title"
                                 Url="@($"/project/{project.Slug}")"
                                 Description="@RenderSummary(project.Summary)"
                                 Tags="@project.Tags"
                                 Id="@($"project-{project.Slug}")"/>
                }
            </div>
        </ChildContent>
    </LoadingState>
</section>
